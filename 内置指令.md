# :eyeglasses:内置指令 #

<b id="t"></b>

:one:[基本指令](#a1)

:two:[条件渲染指令](#a2)

<p id="a1"></p>

### :cool:基本指令 ###

:arrow_double_up:[返回目录](#t)

**v-cloak**

v-cloak不需要表达式，他可以在Vue实例结束编译结束时从绑定的Html元素上移除，经常用和css的display:none配合使用：

```vue
	<body>
		
		<div id="app" v-cloak >
				{{text}}
		</div>
		<script>
			var app = new Vue({
				el : '#app',
				data : {
					text : 'Hello Lumnca!'
				}
			})
		</script>
	</body>
```

这时虽然已经加了指令v-cloak，但其实并没有起到任何作用，当网速较慢、Vue.is文件还没加载完时，在页面上会显示{{mesage}}的字样，直到Vue创建实例、编译模板时，DOM才会被替换，所以这个过程屏幕是有闪动的。只要加一句CSS就可以解决这个问题了：

```
[v-cloak]{
display:none；
}
```

在一般情况下，v-cloak是一个解决初始化慢导致页面闪动的最佳实践，对于简单的项目很实用，但是在具有工程化的项目里，比如后面进阶篇将介绍webpack和vue-router时，项目的HTML结构只有一个空的div元素，剩余的内容都是由路由去挂载不同组件完成的，所以不再需要v-cloak。

**v-once**

v-once也是一个不需要表达式的指令，作用是定义它的元素或组件只渲染一次，包括元素或组件的所有子节点。首次渲染后，不在随数据变化重新渲染，将被视为静态内容：


```vue
		<div id="app" v-cloak >
				<p v-once>{{text}}</p>
				<p>{{text}}</p>
		</div>
		<script>
			var app = new Vue({
				el : '#app',
				data : {
					text : 'Hello Lumnca!'
				}
			})
		</script>
```

如上第一个不会因为data改变而改变，第二个会改变。

<p id="a2"></p>

### :cool:条件渲染指令 ###

:arrow_double_up:[返回目录](#t)

**v-if,v-else-if,v-else**

与JavaScript条件语句一样，Vue.js的条件指令可以根据表达式的值在DOM中渲染或销毁元素。如：

```html
		<div id="app" v-cloak >
			<p v-if="flag < 0">负数</p>
			<p v-else-if="flag === 0">0</p>
			<p v-if="flag > 0">正数</p>
		</div>
		<script>
			var app = new Vue({
				el : '#app',
				data : {
					flag : -7
				}
			})
		</script>
```

注意如果v-else-if含有的话就需要有v-if，v-else。

这种功能可以用在表单类型转换上，如下：

```java
		<div id="app" v-cloak >
			<template v-if=" type ==='name' ">
				<label>用户名</label>
				<input placeholder="输入用户名">
			</template>
			<template v-else>
				<label>邮箱</label>
				<input placeholder="输入邮箱">
			</template>
			<button @click="change">切换到邮箱输入</button>
		</div>
		<script>
			var app = new Vue({
				el : '#app',
				data : {
					type : 'name'
				},
				methods : {
					change : function(){
						this.type = this.type === 'name' ? 'mail' : 'name';
					}
				}
			})
		</script>
 ```

但是这样如果你有输入文本还看到文本没有消失，说明元素被复用了，如果不想被复用，可以在input标签上添加使用key值：

```html
			<template v-if=" type ==='name' ">
				<label>用户名</label>
				<input placeholder="输入用户名" key="name-input">
			</template>
			<template v-else>
				<label>邮箱</label>
				<input placeholder="输入邮箱"  key="mail-input">
			</template>
```

**v-show**

v-show的用法与v-if一致，只不过v-show会改变元素的css属性display。当v-show表达式的值为false时，元素会隐藏，查看DOM结构会看到元素上加载了内联样式display:none.

```html
		<div id="app" v-cloak >
			<p v-show="text === true">Hello</p>
		</div>
		<script>
			var app = new Vue({
				el : '#app',
				data : {
					text : true
				}
			})
		</script>
```









