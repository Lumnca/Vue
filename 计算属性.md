# :eyeglasses:计算属性 #

<b id="t"></b>

:one:[计算属性介绍](#a1)

:two:[计算属性用法](#a2)


<p id="a1"></p>

### :cool:计算属性介绍 ###

:arrow_double_up:[返回目录](#t)

在前面的学习之中我们知道了可以在绑定数据显示，但是表达式过长就显得臃肿或变的难以理解，比如：

```vue
		<div id="app" >
			<p>{{text.split(',').reverse().join(',')}}</p>
		</div>
		<script>
			var app = new Vue({
				el : '#app',
				data : {
					text : '123,456'
				}
			})
		</script>
```

这里IDE表达式包含3个操作，并不是很清晰，所以在遇到复杂的逻辑时应该使用计算属性，对上面进行计算属性改写：

```vue
		<div id="app" >
			<p>{{newText}}</p>
		</div>
		<script>
			var app = new Vue({
				el : '#app',
				data : {
					text : '123,456'
				},
				computed:{
					newText : function(){
						return this.text.split(',').reverse().join(',');
					}
				}
			})
		</script>
```

想这样，我们在Vue中提前对文本进行处理再返回，就可以减少代码臃肿，所有的需要处理的属性即计算属性值都可以写在computed中最终返回计算中的值。

<p id="a2"></p>

### :cool:计算属性用法 ###

:arrow_double_up:[返回目录](#t)

在一个计算属性中可以完成各种复杂的计算逻辑，包括运算，函数调用等，只要最终返回一个结果就可以。除了上面简单的实例外，计算属性还可以依赖多个Vue实例的数据，只要其中任意一个变化，计算属性就会重新执行，视图也就会更新，如下,为一个购买东西计算价格的实例：

```vue
		<div id="app" >
			<p>总价:{{prices}}</p><br>
			<button @click="buyiPhone">买iPhone</button>
			<button @click="buyHuaWei">买华为</button>
			<button @click="buyApple">买苹果</button>
			<button @click="buyBanana">买香蕉</button>
		</div>
		<script>
			var app = new Vue({
				el : '#app',
				data : {
					package1 : [
						{
							name : 'iPhone',
							price : 7899,
							count : 0
						},
						{
							name : 'HuaWei',
							price : 5699,
							count : 0
						}
					],
					package2 : [
						{
							name : 'apple',
							price : 7,
							count : 0							
						},
						{
							name : 'banana',
							price : 11,
							count : 0
						}
					]
				},
				computed:{
					prices : function(){
						var prices = 0;
						for(let i = 0;i<this.package1.length;i++){
							prices += this.package1[i].price * this.package1[i].count;
						}
						for(let i = 0;i<this.package1.length;i++){
							prices += this.package2[i].price * this.package2[i].count;
						}
						return prices;
					}
				},
				methods : {
					buyiPhone : function(){
						this.package1[0].count++;
					},
					buyHuaWei : function(){
						this.package1[1].count++;
					},
					buyApple : function(){
						this.package2[0].count++;
					},
					buyBanana : function(){
						this.package2[1].count++;
					}
				}
			})
		</script>
```

当点击修改物品数据时，将会修改价格，并自动显示出来。每一个计算属性都具有getter，setter，我们上面的实例都是使用默认的getter来读取，当你需要时可以自行设计get与set方法，get方法是在属性获取时触发，set方法是输出修改时触发






